SOAP UI ‚Äì Testes e Valida√ß√µes em Webservices sem segredos
Autor: Mauricio Cruz
Data: 12/01/2011 08:55

Tem um fato que sempre ocorre alguma vez na vida de um Consultor PI (ou ABAP, ou CRM, ou whatever) que √©, ao mesmo tempo,
frustante
e
revelador
:
Voc√™ est√° l√°‚Ä¶
se matando
para testar ‚Äúaquela‚Äù interface com um webservice que depende de dados de cinco transa√ß√µes diferentes. E como se n√£o bastasse a dificuldade imensa para gerar uma
droga
de cen√°rio de teste,
o
dado √© consumido
ap√≥s o disparo da interface. Da√≠, vem aquele cara que j√° te viu¬† xingando o computador de tudo quanto √© nome a semana toda, e fala: ‚Äúpo, tem um programa aqui que pode ajudar‚Ä¶‚Äù.
‚Ä¶
E depois de
muito stress,
voc√™ descobre que tem um
programa m√°gico
que resolve os seus problemas. O
SOAP UI
√© um desses programas, e sim, eu o descobri numa situa√ß√£o parecida com essa acima ( üôÅ ou üôÇ ? frustante e revelador, sacaram? üôÑ ).
A id√©ia √© bem simples‚Ä¶ voc√™ configura a url e a porta de um webservice, escolhe um dos m√©todos (ou a√ß√µes, tanto faz), monta o XML e o programa dispara a mensagem pra voc√™ e mostra a resposta.
Isso quer dizer que voc√™
n√£o depende mais do SAP ou do PI
para validar se o formato que o PI est√° enviando est√° correto, ou como o Webservice vai se comportar se voc√™ mandar X ou Y em determinada tag do XML.
Parece bobo, mas isso
salva MUITO TEMPO
na fase pr√©-build/build/unit test, onde voc√™ precisa ter uma no√ß√£o de quais dados voc√™ tem que mandar e de como interpretar o retorno de um m√©todo do webservice. Veja s√≥:
Foto 1 ‚Äì Configura√ß√£o b√°sica do SOAP UI
Basicamente, voc√™ cria um projeto e importa um WSDL (arquivo que cont√©m a defini√ß√£o dos m√©todos/a√ß√µes do webservice) Normalmente isso entra no External Definitions, no PI
Voc√™ configura tamb√©m o endere√ßo do Webservice, para o SOAP UI conectar-se e mandar as mensagens XMLs. D√° at√© pra configurar o protocolo (soap 1.1, 1.2 e tal)
Da√≠ voc√™ colocar o XML "na m√£o" na esquerda e aperta o play. O programa ir√° conectar no webservice e te mostrar a resposta na direita. Voc√™ pode pegar o XML da SXMB_MONI e disparar por a√≠ para testes, manjou? üòâ
Mais f√°cil s√≥ a interface pronta, falae? Tem mais coisas, mas d√° para ter uma no√ß√£o do poder da ferramenta.
O site para baixar √© o
http://www.soapui.org/
, mas qualquer coisa, √© s√≥ procurar no google, pois √© um programa bastante usado pela galera que trabalhar com Webservices mundo afora.
Vale a pena dar uma olhada‚Ä¶ afinal, voc√™ nunca sabe quando uma interfaces ‚Äúdaquelas‚Äù com Webservice vai aparecer na sua frente!
Abra√ßos!



Coment√°rios:
Nilton de Ara√∫jo (17/02/2017 08:43): Ol√° obrigado por dividir o seu conhecimento, sou novo em automa√ß√£o  e estou me deparando com a seguinte barreira no uso da ferramenta SoapUi, ao criar o projeto e apontar para o servi√ßo somente 3 m√©todos retornam o arquivo Request que possibilita gerar os casos de teste. Os demais m√©todos retornados pelo servi√ßo n√£o trazem o arquivo, √© preciso informar usu√°rio e senha em algum lugar para acessar esses arquivos? Fico no aguardo caso algu√©m possa me indicar um norte para solu√ß√£o.
juliano (25/07/2016 09:06): bom dia.estou com um problema: s√≥ consigo enviar um mregistor por  vez.teria como mandar  v√°rios para meu projeto  da  url? exemplo: xpto s√≥ que tenho 2000 empresas para  cadastrar, e a√≠? ficar  copiando o xml e colando um por um, √© de  lascar!!!
Julio (02/07/2015 21:55): Ol√° Zombie manager, gostei do seu post. eu estou com esse problema agora e nao mas nao estou conseguindo configurar certo o SOAP UI, por causa do certificado, eu achei que ia explicar certinho isso, mas nao falo nada disso. Sera que podeme explicar como que se faz? Obrigado
Sergio (19/11/2014 22:20): Muito bom seu post foi muito √∫til. Gostaria de saber se voc√™ j√° transferiu arquivos PDF pelo SAP PI SOAP por WSDL
Toni (06/01/2013 20:46): Segue um post de como usar o SoapUi para testar o web service dos correios http://regifelix.com/2013/01/06/testes-de-web-services-com-a-ferramenta-soapui/
Fabio (14/12/2012 15:11): Maur√≠cio, Sou leigo na ferramenta e estou tentando realizar um teste de carga num webservice. Preciso inserir alguns valores de par√¢metro para testar a resposta do WS, por√©m n√£o consigo os campos para que eu possa inserir os valores j√° definidos para teste (mesmo no Request). Existe alguma forma de puxar estes campos para que eu possa inserir estes valores? Desde j√° agrade√ßo a for√ßa.
Luciane Santos (25/10/2012 14:08): Ol√° Mauricio, Estou com um problema aqui testando meu webservice no soapUI esta dando o seguinte erro: org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize. Pelo que li em alguns posts esta dando erro na deserializa√ß√£o do xml,  mas desenvolvi uma aplica√ß√£o cliente que passa por parametro o xml e funciona s√≥ d√° erro quando fa√ßo o teste no soapUI, acho que pode ser alguma coisa relacionada a forma que o soapUI interpreta o xml. Mas como sou novata com o soapUI estou tendo dificuldades em resolver este problema. üôÇ
Sebasti√£o Andrade de Oliveira (19/06/2012 15:42): Fala Mauricio! Obrigado pela dica ai mano, esse programa salvo minha vida‚Ä¶.kkkkkk. Parab√©ns pelo Blog. Um grande abra√ßo pra essa galerinha firmeza ai do AbapZombie. Aspira.