Mensagens no CRM com BOL
Autor: Mauro Laranjeira
Data: 12/01/2011 11:10

VIVA OO !!!
O CRM fica ate chato por causa da OrientaÃ§Ã£o a Objetos. Ainda nÃ£o sei como tem gente que tem â€œmedoâ€ disso.
ReutilizaÃ§Ã£o de cÃ³digo Ã© o futuro. Se um dia o objeto sofrer alteraÃ§Ã£o, nÃ£o mudaremos nada em nossos cÃ³digos Z, pois todo o processo das coisas estÃ£o centralizados no mesmo lugar.
Este exemplo funciona na versÃ£o 6.0 (2007) do CRM e superiores, nunca teste nas versÃµes anteriores. ğŸ˜‰
EntÃ£o.. â€œsiga-me os bonsâ€ (by Chapolin)
" DeclaraÃ§Ã£o da variÃ¡vel
DATA: o_msg  TYPE REF TO cl_bsp_wd_message_service.

"Pega a instÃ¢ncia singleton da classe que controla todas as mensagens no CRM
o_msg = cl_bsp_wd_message_service=>get_instance( ).

"Adiciona a mensagem na classe
o_msg->add_message( iv_msg_type       = 'S'
                    iv_msg_id         = 'ZCLASS'
                    iv_msg_number     = '000'
                    iv_msg_v1         = 'Parametro 1'
                    iv_msg_v2         = 'Parametro 2'
                    iv_msg_v3         = 'Parametro 3'
                    iv_msg_v4         = 'Parametro 4' ).
A classe de mensagens Ã© semelhante a classe que controla o
Alert Modeler
, Ã© uma classe
Singleton
, ou seja, existe uma unica instÃ¢ncia da classe por sessÃ£o, por este motivo apenas pegamos a instÃ¢ncia que ja existe e inserimos as mensagens a serem exibidas.
Como todo o processo fica na classe standard, caso algum dia a SAP resolva exibir a mensagem de uma outra forma, ou tenha alguma alteraÃ§Ã£o, nÃ£o serÃ¡Â necessÃ¡rioÂ alterar nosso cÃ³digo Z. ğŸ˜€
Esta Ã© uma das vantagens de utilizar OrientaÃ§Ã£o a Objetos, ganho na manutenÃ§Ã£o. pode ser que durante oÂ desenvolvimentoÂ de uma classe, vocÃª gaste mais tempo do que em um cÃ³digo estruturado. Mas que nÃ£o concorda comigo que em um projeto o maior tempo gasto gira em torno de manutenÃ§Ã£o Ã© correÃ§Ã£o?
Ã‰ isso ai NegadS!!!
AbraÃ§os a todos que agora sabem exibir mensagem no CRM 6.0 ou superior.
AbraÃ§o especial a Renata Bacaro que ira pagar a torta de limÃ£o que esta me devendo ğŸ˜€



ComentÃ¡rios:
bruno (14/01/2011 07:57): Da hr essas dicas :]