Convers√£o de vari√°veis ‚Äì Hoo trocinho chato!!!
Autor: Mauro Laranjeira
Data: 26/01/2011 07:38

Quem nunca precisou fazer convers√£o de dados no SAP? Acho que s√≥ quem nunca mexeu com SAP mesmo. :S
E muito chato!!
Exemplo:
O cabra quer dar um select no banco, mas no banco o registro est√°
0000000010
, mas vc tem o valor na sua vari√°vel como
10
‚Ä¶. eeennnnttt√£√£ooo seus problemas acabaram, gra√ßas as revolucionarias fun√ß√µes standard XD
Temos 2 fun√ß√µes que nos auxiliam com este tratamento:
‚Äì
CONVERSION_EXIT_ALPHA_INPUT
que converte um valor para o formato do banco;
‚Äì
CONVERSION_EXIT_ALPHA_OUTPUT
que converte o valor para exibi√ß√£o em tela.
DATA: v_teste TYPE char10 VALUE ‚Äô30‚Ä≤.

CALL FUNCTION ‚ÄòCONVERSION_EXIT_ALPHA_INPUT‚Äô
EXPORTING
input  = v_teste
IMPORTING
output = v_teste.

WRITE v_teste.

CALL FUNCTION ‚ÄòCONVERSION_EXIT_ALPHA_OUTPUT‚Äô
EXPORTING
input  = v_teste
IMPORTING
output = v_teste.

WRITE v_teste.
Neste caso iria aparecer na tela:
0000000030
Formato do banco de dados
30
Formato para exibi√ß√£o em tela
Sem churumelas üòÄ
Espero ter ajudado algu√©m, ja me ajudou um dia o/
Abra√ßos a todos os ex-Zombies



Coment√°rios:
Programista ABAP (21/01/2013 17:08): Sometimes i use SHIFT LEADING insteed but most of the times CONVERSION is the best way for add / cut leading zeros. üôÇ
Adriano S. C. (08/04/2012 22:52): Ol√°! A fun√ß√£o parece ser √∫til, mas como ela funciona exatamente? A sa√≠da √© padr√£o, ou seja, o formato no banco de dados √© padr√£o?? Digo isso pq n√£o vejo aonde voc√™ ‚Äúfala‚Äù pro programa que √© esse tipo de sa√≠da que voc√™ quer=) ab√ß Abap newbie
  Mauro Laranjeira (09/04/2012 09:17): Certo Adriano, A fun√ß√£o ira retornar no tipo que a vari√°vel foi declarada. Exemplo: data: vl_partner type bu_partner.

vl_partner = '123'. O tipo bu_partner, √© um char de 10 posi√ß√µes, se usar a fun√ß√£o CONVERSION_EXIT_ALPHA_INPUT ir√° retornar 0000000123, pois esta √© a forma salva no banco de dados. Caso tenha a vari√°vel vl_partner com 0000000123, e usarmos a fun√ß√£o  CONVERSION_EXIT_ALPHA_OUTPUT o retorno ser√° 123. Esta fun√ß√£o √© √∫til se vc tem o valor 123 e quer fazer uma consulta no banco, se n√£o for feita a convers√£o, n√£o encontrara o valor. Entendeu amigo? Abs, Mauro Laranjeira
    Adriano S. C. (09/04/2012 10:51): Ahh, agora entendi =) vlw Mauro
    Adriano S. C. (09/04/2012 10:51): Ahh, agora entendi =) vlw Mauro
  Mauro Laranjeira (09/04/2012 09:17): Certo Adriano, A fun√ß√£o ira retornar no tipo que a vari√°vel foi declarada. Exemplo: data: vl_partner type bu_partner.

vl_partner = '123'. O tipo bu_partner, √© um char de 10 posi√ß√µes, se usar a fun√ß√£o CONVERSION_EXIT_ALPHA_INPUT ir√° retornar 0000000123, pois esta √© a forma salva no banco de dados. Caso tenha a vari√°vel vl_partner com 0000000123, e usarmos a fun√ß√£o  CONVERSION_EXIT_ALPHA_OUTPUT o retorno ser√° 123. Esta fun√ß√£o √© √∫til se vc tem o valor 123 e quer fazer uma consulta no banco, se n√£o for feita a convers√£o, n√£o encontrara o valor. Entendeu amigo? Abs, Mauro Laranjeira
    Adriano S. C. (09/04/2012 10:51): Ahh, agora entendi =) vlw Mauro
    Adriano S. C. (09/04/2012 10:51): Ahh, agora entendi =) vlw Mauro