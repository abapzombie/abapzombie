ABAPZombie Guide to ABAP â€“ Parte 2 â€“ ADD-CORRESPONDING
Autor: Mauricio Cruz
Data: 03/02/2011 09:02

* AtenÃ§Ã£o, este comando Ã© obsoleto na versÃ£0 6.0!
Muita gente conhece o MOVE-CORRESPONDING, mas pouca gente sabe que existe um comando similiar, o ADD-CORRESPONDING.
Sintaxe:
ADD-CORRESPONDING wa_add TO wa_add2.
O comando vai procurar os campos de mesmo nome nas duas estruturas, somÃ¡-los, e guardÃ¡-los na segunda estrutura (wa_add2). Exemplo:
REPORT  zombie_add_corresponding.

* Types - Note que tem o campo adicional char em cada uma das
* estruturas
TYPES: BEGIN OF ty_add1,
        val1 TYPE i,
        val2 TYPE i,
        name TYPE char10,
       END OF ty_add1.

TYPES: BEGIN OF ty_add2,
        nome TYPE char10,
        val1 TYPE i,
        val2 TYPE i,
      END OF ty_add2.

* Work Areas
DATA: wa_add1 TYPE ty_add1,
      wa_add2 TYPE ty_add2.

*--------------------------------------------------------------------*
* START-OF-SELECTION
*--------------------------------------------------------------------*
START-OF-SELECTION.

* Valores
wa_add1-val1 = 10.
wa_add1-val2 = 10.

wa_add2-val1 = 5.
wa_add2-val2 = 5.

* Magicamente, ele vai deixar os valores somados na estrutura wa_add2
ADD-CORRESPONDING wa_add1 TO wa_add2.

BREAK-POINT.
Coloque num programa Z qualquer e testes. Os valores estarÃ£o somandos na estrutura wa_add2.
Lembrando que esse comando pode dar vÃ¡rios problemas por conta de nÃ£o compatibilidade de tipos entre campos de mesmo nome em estruturas diferentes (respire e leia denovo, vocÃª vai entender ðŸ˜€ ).
Eu, particularmente, nunca useiâ€¦ mas vai que vocÃª precise algum dia ðŸ˜›
Ah, e desencane se for para usar em classes, Ã© proibido!
AbraÃ§o!