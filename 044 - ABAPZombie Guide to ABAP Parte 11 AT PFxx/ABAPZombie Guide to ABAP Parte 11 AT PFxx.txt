ABAPZombie Guide to ABAP ‚Äì Parte 11 ‚Äì AT PFxx
Autor: Mauricio Cruz
Data: 16/02/2011 08:30

Bom, o
AT PFxx
√© um daqueles comandos que a SAP n√£o recomenda serem usados em programas, salvo para testes.
O funcionamento √© bem simples, nada muito complicado! Ele cria um evento novo para os c√≥digos de fun√ß√£o de 1 at√© 24, para o tratamento das fun√ß√µes de usu√°rios em listas (reports com o WRITE). Exemplo para o F5:
REPORT zombie_at_pf.

*--------------------------------------------------------------------*
* START-OF-SELECTION
*--------------------------------------------------------------------*
START-OF-SELECTION.

* Print de uma lista qualquer para o teste
  WRITE 'Teste de comandos! Aperte o F5'.

*--------------------------------------------------------------------*
* EVENTO para F5 em Listas
*--------------------------------------------------------------------*
AT PF5.
  BREAK-POINT.
Se voc√™ trocar o PF5 por PF1, PF2, PF3, etc‚Ä¶ ele vai disparar um evento para um bot√£o diferente. Agora, eu disse ali que a SAP n√£o recomanda o uso (e √© bem expl√≠cito isso na documenta√ß√£o oficial do comando), mas ela nos d√° uma alternativa que eu acho muito melhor‚Ä¶ tratar os c√≥digos de fun√ß√µes 1-24 dentro do evento
AT USER-COMMAND
, tratando o valor da vari√°vel
SY-UCOMM
num la√ßo CASE‚Ä¶ENDCASE, por exemplo.
Mas enfim, agora se voc√™ ver isso num standard por a√≠ n√£o vai ficar boiando! üòÄ
Abra√ßos!