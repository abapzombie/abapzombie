ABAPZombie Guide to ABAP ‚Äì Parte 15 ‚Äì AT USER-COMMAND
Autor: Mauricio Cruz
Data: 28/02/2011 14:51

Phew! Finalmente cheguei ao fim da letra A. Espero que eu termine tudo at√© o final do ano‚Ä¶ ano de 2012 √© claro üòÄ
Bom, o
AT USER-COMMAND
√© bem simples. Ele ir√° ser executando quando o usu√°rio efetuar alguma a√ß√£o em uma lista, por√©m, essa a√ß√£o n√£o pode ser qualquer a√ß√£o‚Ä¶
Normalmente o que s√£o capturadas s√£o a√ß√µes n√£o-standard, aquelas que voc√™ cria quando insere um novo status gui para o programa, por exemplo. (para ver a lista todas de restri√ß√µes, F1 no comando üòõ ).
Exemplo:
REPORT zombie_at_user_command.

START-OF-SELECTION.

* Criei um novo Status GUI com o comando "TCHAU" para o bot√£o
* de fechar (a Bolinha vermelha com o X ou o F12).
  SET PF-STATUS 'ZOMBIE_STATUS'.

* Criando uma lista qualquer, de zumbis famintos.
  WRITE 'Braaaaaaaaaaaaaaaaains!'.

AT USER-COMMAND.
  IF sy-ucomm = 'TCHAU'.
    BREAK-POINT.
  ENDIF.
No caso acima, o programa vai parar quando voc√™ clicar no bot√£o vermelho, mas s√≥ ir√° funcionar nos reports feitos com WRITE.
Easy n√©? Esse comando meio que caiu no esquecimento, j√° que as listas em WRITE s√£o cada vez menos comuns. Mas talvez voc√™ encontre ele por a√≠ em algum SAP antigo da vida üôÇ
Abra√ßos, e rumo √† letra B!