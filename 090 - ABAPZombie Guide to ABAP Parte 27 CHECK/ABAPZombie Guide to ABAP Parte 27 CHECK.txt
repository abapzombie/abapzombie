ABAPZombie Guide to ABAP ‚Äì Parte 27 ‚Äì CHECK
Autor: Mauricio Cruz
Data: 31/08/2011 11:51

Bom, eu estou com um problema chato porque estou sem acesso ao meu ambiente Trial do Netweaver, fiz o favor de destruir a Virtual Machine tentando convert√™-la para us√°-la em um outro software. Mas como ningu√©m se importa com isso ( üôÅ ), vamos analisar mais um comando, o
CHECK
!
S√≠ntaxe do comando: CHECK <express√£o l√≥gica>, e s√≥. ‚ÄúMas u√©, n√£o tem um ENDCHECK?‚Äù N√£o.. at√© porque se tivesse seria igual ao IF, mas √© exatamente por n√£o tem um ENDCHECK que a coisa come√ßa a complicar‚Ä¶
O CHECK √© um comando mut√°vel, isto √©, seu funcionamento muda dependendo de onde ele estiver, sem altera√ß√£o nenhuma em sua s√≠ntaxe.
Se voc√™ colocar um CHECK dentro de um la√ßo, como este:
REPORT zombie_check_laco.

* Coloquei um DO, mas pode ser um WHILE, um LOOP, SELECT..ENDSELECT,
* qualquer la√ßo da linguagem
DO 10 TIMES.

  WRITE / 'Ser√° que o mundo vai acabar?'.

* Com este check, o mundo nunca ir√° acabar
  CHECK 1 = 2.

  WRITE 'O MUNDO PORQUE ACABOU 1 √© IGUAL A 2'.

ENDDO.
Sempre que um CHECK estiver dentro de um la√ßo e a express√£o l√≥gica que voc√™ estiver
checkando
for falsa o programa ir√° voltar para o in√≠cio do la√ßo e seguir para o pr√≥ximo registro(loop/select) ou para o pr√≥ximo passo do la√ßo (do, while).
No caso acima, a mensagem
Ser√° que o mundo vai acabar?
seria impressa 10 vezes.
Por√©m, se voc√™ colocar um CHECK fora do la√ßo de repeti√ß√£o,
ele vai abortar o processamento do bloco onde o CHECK estiver
, seja este bloco um FORM..ENDFORM, uma Fun√ß√£o, um M√©todo de uma Classe, ou at√© mesmo um Report.
Exemplo:
REPORT zombie_check_sem_laco.

* Com este check, o mundo nunca ir√° acabar
  CHECK 1 = 2.

  WRITE  'O MUNDO PORQUE ACABOU 1 √© IGUAL A 2' .
No caso acima, o programa n√£o vai escrever nada na tela.
E √© a√≠ que mora o perigo‚Ä¶ Se voc√™ estiver no meio de um programa gigantesco e que n√£o esteja muito bem estruturado, colocar um CHECK e o CHECK retornar falso voc√™ pode abortar o
programa INTEIRO
. Portanto, muito cuidado crian√ßas! üòÄ
Isso cobre os usos mais comuns do CHECK!
Abra√ßos √† todos que j√° destruiram uma execu√ß√£o do Standard colocando um CHECK no meio de uma include perdida dentro de uma EXIT. Voc√™s n√£o est√£o sozinhos, acreditem! üòÄ üòÄ



Coment√°rios:
junilson (28/03/2022 06:34): Muito Obrigado pelas partilhas de conhecimento.
RICARDO MELO DOS SANTOS (15/11/2016 12:04): Voc√™ pode me ajudar nesse exerc√≠cio ? Por favor Fa√ßa a divis√£o de um valor sucessiva por 2 at√© chegar a 0,01. Coloque um parameter para inser√ß√£o do valor na tela. Utilize o DO/ENDDO. O Valor dever√° ter a precis√£o de 4 digitos e 2 casas decimais.
Marcelo (18/10/2011 08:40): J√° cansei de ver casos dentro de EXIT's onde temos o nosso c√≥digo e chega um espertinho e insere um CHECK no in√≠cio da EXIT que s√≥ deveria ser v√°lida para seu processamento, mas que acaba pulando todo o c√≥digo posterior, no caso o meu que deveria ser processado! Putz!
  Mauricio Cruz (18/10/2011 08:59): Uma vez colocaram um check dentro de uma macro no inicia de uma exit maluca, e eu, junior como era na √©poca, n√£o entendia NEM A PAU porque o programa n√£o passava na minha exit üôÅ ahhaha
    Andr√© Valen√ßa (07/08/2021 10:34): Acredite atualmente esse √© o meu caso, e eu nao sei como fazer o programa continuar, por isso eu cheguei nesse artigo rsrsrsr
    Andr√© Valen√ßa (07/08/2021 10:34): Acredite atualmente esse √© o meu caso, e eu nao sei como fazer o programa continuar, por isso eu cheguei nesse artigo rsrsrsr
  Mauricio Cruz (18/10/2011 08:59): Uma vez colocaram um check dentro de uma macro no inicia de uma exit maluca, e eu, junior como era na √©poca, n√£o entendia NEM A PAU porque o programa n√£o passava na minha exit üôÅ ahhaha
    Andr√© Valen√ßa (07/08/2021 10:34): Acredite atualmente esse √© o meu caso, e eu nao sei como fazer o programa continuar, por isso eu cheguei nesse artigo rsrsrsr
    Andr√© Valen√ßa (07/08/2021 10:34): Acredite atualmente esse √© o meu caso, e eu nao sei como fazer o programa continuar, por isso eu cheguei nesse artigo rsrsrsr