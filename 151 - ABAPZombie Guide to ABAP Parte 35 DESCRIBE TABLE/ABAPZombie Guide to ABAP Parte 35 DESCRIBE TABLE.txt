ABAPZombie Guide to ABAP â€“ Parte 35 â€“ DESCRIBE TABLE
Autor: Henrique Dias
Data: 20/08/2012 07:00

O DESCRIBE TABLE retorna o tamanho de uma tabela, simples assim.
REPORT zombie_describe_table.

SELECTÂ *
FROMÂ scarr
INTOÂ TABLEÂ t_scarr.

DESCRIBEÂ TABLEÂ t_scarr.
DESCRIBEÂ TABLEÂ t_scarrÂ KINDÂ v_tipo.
DESCRIBEÂ TABLEÂ t_scarrÂ LINESÂ v_linhas.
DESCRIBEÂ TABLEÂ t_scarrÂ OCCURSÂ v_tamanho_inicial.

WRITE:
/'sy-tfill'Â Â Â Â Â Â Â Â Â Â ,Â sy-tfillÂ Â Â Â Â Â Â Â Â ,Â "quantidadeÂ deÂ linhas
/'sy-tleng'Â Â Â Â Â Â Â Â Â Â ,Â sy-tlengÂ Â Â Â Â Â Â Â Â ,Â "tamanhoÂ emÂ bytesÂ deÂ umaÂ linha
/'v_tipo'Â Â Â Â Â Â Â Â Â Â Â Â ,Â v_tipoÂ Â Â Â Â Â Â Â Â Â Â ,Â "tipoÂ daÂ tabela:Â "T"Â standardÂ table,Â "S"Â sortedÂ tableÂ eÂ "H"Â hashedÂ tables
/'v_linhas'Â Â Â Â Â Â Â Â Â Â ,Â v_linhasÂ Â Â Â Â Â Â Â Â ,Â "quantidadeÂ deÂ linhas
/'v_tamanho_inicial'Â ,Â v_tamanho_inicial.Â "tamanhoÂ inicialÂ daÂ tabelaÂ (ouÂ occurs)
VocÃª pode usar os parÃ¢metros opcionais KIND, LINES e OCCURS, para retornar o tipo da tabela (â€œTâ€Â standardÂ table,Â â€œSâ€Â sortedÂ tableÂ eÂ â€œHâ€Â hashedÂ tables) , o nÃºmero de linhas e o tamanho inicial respectivamente. Â AlÃ©m da variÃ¡vel solicitada, o sistema tambÃ©m atualiza as variÃ¡veis de sistema SY-TFILL e SY-TLENG. Caso nÃ£o seja solicitado nenhum, somente as variÃ¡veis de sistema serÃ£o atualizadas.
Pronto agora vocÃª nÃ£o precisa mais criar aquela variÃ¡vel safada v_lines, basta usar o sy-tfill ğŸ˜€



ComentÃ¡rios:
Custodio (20/08/2012 23:01): Comentei ontem aqui e sumiu :S Enfim, vou repetirâ€¦ Provavelmente voces ja tem planejad de comentar isso, mas esse describe para descobrir o numero de linhas esta morto, se nao me engano desde a 7.00. Muito mais maroto eh usar: v_linhas = lines( t_scarr ). ou ainda: if lines( t_scarr ) > 0. *do somethingâ€¦ endif. abracos.
  Fawcs (21/08/2012 09:10): legal Ã© usar isso no meio do debug =D. Coloca um watchpoint com condiÃ§Ã£o lines( t_scarr ) > 100, jÃ¡ tive que usar algumas vezes!
  Fawcs (21/08/2012 09:10): legal Ã© usar isso no meio do debug =D. Coloca um watchpoint com condiÃ§Ã£o lines( t_scarr ) > 100, jÃ¡ tive que usar algumas vezes!